<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>发布问题</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="../css/iconfont.css">
    <link rel="stylesheet" href="../css/wenti.css">
</head>

<body>
    <div class="wt">
        <div class="w960 wt-main">
            <form class="wt-form" id="form" action="#">
                <ul class="wt-form-tit">
                    <li class="cur">发布作品</li>
                </ul>
                <div class="item">
                    <div class="tit">
                        <span>*</span>提问标题
                    </div>
                    <div class="ct">
                        <input type="text" class="text" value="" name="title" placeholder="请输入提问标题">
                        <span class="num-box"><span class="num">500</span></span>
                    </div>
                </div>
                <div class="item">
                    <div class="tit">
                        <span>*</span>图片描述
                    </div>
                    <div class="ct">
						<input type="file" name="pic">
                        <div class="img">
                            <img src="../images/fb-img.png" width="290">
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="tit">
                        <span>*</span>问题标签
                    </div>
                    <div class="ct">
                        <input type="text" id="tagValue" class="text">
                    </div>
                </div>
                <div class="item">
                    <div class="tit">
                        <span>*</span>详细描述
                    </div>
                    <div class="ct">
                        <input type="text" class="text textarea" value="" maxlength="30" placeholder="请输入提问标题">
                        <span class="num-box"><span class="num">500</span></span>
                    </div>
				</div>
				<div class="btn-box">
					<button type="submit" id="postsubmit" class="btn">发布作品</button>
				</div>
            </form>
        </div>
    </div>
    <script src="../js/jquery-1.9.1.min.js"></script>
	<script src="../js/wenti.js"></script>
	<script src="../js/validate-1.14.0.min.js"></script>
	<script src="../js/tag.js"></script>
    <script>
        jQuery.extend(jQuery.validator.messages, {
            required: "必选字段",
            remote: "请修正该字段",
            email: "请输入正确格式的电子邮件",
            url: "请输入合法的网址",
            date: "请输入合法的日期",
            dateISO: "请输入合法的日期 (ISO).",
            number: "请输入合法的数字",
            digits: "只能输入整数",
            creditcard: "请输入合法的信用卡号",
            equalTo: "请再次输入相同的值",
            accept: "请输入拥有合法后缀名的字符串",
            maxlength: jQuery.validator.format("请输入一个长度最多是{0}的字符串"),
            minlength: jQuery.validator.format("请输入一个长度最少是{0}的字符串"),
            rangelength: jQuery.validator.format("请输入一个长度介于{0}和{1}之间的字符串"),
            range: jQuery.validator.format("请输入一个介于{0}和{1}之间的值"),
            max: jQuery.validator.format("请输入一个最大为{0}的值"),
            min: jQuery.validator.format("请输入一个最小为{0}的值")
        });
        $(function() {
			// 表单验证
            $('#form').validate({
                errorElement: 'div',
                errorClass: 'error',
                validClass: 'right',
                onfocusout: function(element) {
					console.log('onfocusout')
                    $(element).valid();
                },
                // errorPlacement: function(error, element) {
				// 	// console.log(error, element)
                //     // error.append('<span class="icon icon-tanhao"></span>');
                // },
                // highlight: function(element, errorClass, validClass) {
				// 	console.log('highlight')
                //     $(element).removeClass('right').addClass('error');
                //     $(element).parent().next().removeClass('right').addClass('error').find('i').html('&#xe606;');
                // },
                // success: function(span) {
				// 	console.log('success');
                //     // span.parent().removeClass('error').addClass('right');
                //     // span.prev('.icon').html('&#xe607;');
				// },
				// 替换默认form提交，使用form提交请删除submitHandler
				submitHandler:function(form){
					console.log("submit!");
				},
                rules: {
                    title: {
                        required: true
					},
					pic: {
						required: true
					}
                },
                messages: {
                    title: {
                        required: '提问标题不能为空'
					},
					pic: {
						required: '图片描述不能为空'
					}
                }
            });

            // 初始化tag标签
            var tag = new Tag("tagValue");
            tag.initView();
        });
    </script>
</body>

</html>